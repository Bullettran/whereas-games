import{m as y,_ as g,o as r,c as a,bR as R,a as i,F as h,n as v,u as $,t as c,$ as S,d as I,b}from"./BnebukGv.js";import{_ as k}from"./CqcvMpLO.js";import"./0-V53Ocw.js";import"./C5RfsS_N.js";import"./BFrFGlYZ.js";import"./BiSH9DHg.js";import"./Be1fzYNM.js";import"./DLoQ4Y8s.js";import"./DSEoH6EC.js";import"./DJIKY9YE.js";const C=y({name:"CraftRecipes",props:{recipes:{type:Array,required:!0}},data:()=>({isSelected:""}),methods:{selectRecipe(e){this.isSelected=e.id,this.$emit("select-recipe",e)}}}),q={class:"recipes"},B={class:"recipes__items list"},E=["onClick"],A={class:"recipes__block"},F={class:"recipes__name"},N={class:"recipes__image"},w={class:"recipes__description"},D={class:"recipes__ingredients"},V={class:"recipes__icon"},z={class:"recipes__ingredient-name"},H={class:"recipes__requirements"},L={class:"recipes__requirement"};function P(e,t,s,n,o,_){return r(),a("div",q,[t[2]||(t[2]=R('<div class="recipes__wrap" data-v-11591def><h3 class="recipes__title" data-v-11591def>–†–µ—Ü–µ–ø—Ç—ã</h3><div class="recipes__filters" data-v-11591def><button class="recipes__filter button button--metal-sm active" type="button" data-v-11591def> –í—Å–µ </button><button class="recipes__filter button button--metal-sm" type="button" data-v-11591def> –û—Ä—É–∂–∏—è </button><button class="recipes__filter button button--metal-sm" type="button" data-v-11591def> –ó–µ–ª—å—è </button></div></div>',1)),i("ul",B,[(r(!0),a(h,null,v(e.recipes,(d,f)=>(r(),a("li",{class:$([e.isSelected===d.id?"recipes__item--active":"","recipes__item"]),key:f,onClick:l=>e.selectRecipe(d)},[i("div",A,[i("div",F,[i("strong",null,c(d.name),1)]),i("div",N,c(d.image),1)]),i("div",w,c(d.description),1),t[1]||(t[1]=i("h4",{class:"recipes__subtitle"},"–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã",-1)),i("div",D,[(r(!0),a(h,null,v(d.ingredients,(l,p)=>(r(),a("div",{class:"recipes__ingredient",key:p},[i("div",V,c(l.icon),1),i("div",z,c(l.name)+"¬†x"+c(l.count),1)]))),128))]),i("div",H,[t[0]||(t[0]=i("h4",{class:"recipes__subtitle"},"–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è",-1)),i("div",L,c(d.requirements),1)])],10,E))),128))])])}const T=g(C,[["render",P],["__scopeId","data-v-11591def"]]),j=y({name:"Craft",setup(){const e=S([{id:"herb-green",name:"–ó–µ–ª–µ–Ω–∞—è —Ç—Ä–∞–≤–∞",icon:"üåø",count:20,type:"material",description:"–ü—Ä–æ—Å—Ç–∞—è —Ç—Ä–∞–≤–∞"},{id:"beast-milk",name:"–ú–æ–ª–æ–∫–æ –∑–≤–µ—Ä—è",icon:"‚öóÔ∏è",count:40,type:"material",description:"–ü—Ä–æ—Å—Ç–æ–µ –º–æ–ª–æ–∫–æ"},{id:"shield1",name:"–©–∏—Ç",icon:"üõ°Ô∏è",count:1,type:"equip",description:"–©–∏—Ç —Å–æ —Å—Ç–∞—Ç–∞–º–∏",stats:{str:1,def:0,luc:0,spd:0,int:0,acc:0,vit:1,agi:0},set:{type:""}},{id:"weapon1",name:"–ú–µ—á–∏",icon:"‚öîÔ∏è",count:1,type:"weapon",description:"–û—Ä—É–∂–∏–µ —Å–æ —Å—Ç–∞—Ç–∞–º–∏",stats:{str:1,def:0,luc:0,spd:2,int:0,acc:0,vit:0,agi:0},set:{type:""},buffs:{value:0,type:""}},{id:"potion1",name:"–ó–µ–ª—å–µ –º–∞–Ω—ã",icon:"Ô∏èüß™",count:2,type:"potion",description:"–í–æ—Å–ø–æ–ª–Ω—è–µ—Ç –º–∞–Ω—É –Ω–∞ 1 –µ–¥.",buffs:{value:1,type:"mp"}}]);return{recipes:[{id:"health_potion",name:"–ó–µ–ª—å–µ –∑–¥–æ—Ä–æ–≤—å—è",description:"–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç 50 HP",image:"üß™",type:"potion",buffs:{value:1,type:"hp"},ingredients:[{id:"herb-green",name:"–ó–µ–ª–µ–Ω–∞—è —Ç—Ä–∞–≤–∞",icon:"üåø",count:3},{id:"beast-milk",name:"–ú–æ–ª–æ–∫–æ –∑–≤–µ—Ä—è",icon:"‚öóÔ∏è",count:4},{id:"potion1",name:"–ó–µ–ª—å–µ –º–∞–Ω—ã",icon:"üß™",count:1}],requirements:"–£—Ä–æ–≤–µ–Ω—å –∞–ª—Ö–∏–º–∏–∏ 2"},{id:"mana_potion",name:"–ó–µ–ª—å–µ –º–∞–Ω—ã",description:"–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç 50 –ú–∞–Ω—ã",image:"üß™",type:"potion",ingredients:[{id:"herb-green",name:"–ó–µ–ª–µ–Ω–∞—è —Ç—Ä–∞–≤–∞",icon:"üåø",count:2},{id:"beast-milk",name:"–ú–æ–ª–æ–∫–æ –∑–≤–µ—Ä—è",icon:"‚öóÔ∏è",count:4}],requirements:"–£—Ä–æ–≤–µ–Ω—å –∞–ª—Ö–∏–º–∏–∏ 2"},{id:"str_potion1",name:"–ó–µ–ª—å–µ —Å–∏–ª—ã",description:"–î–æ–±–∞–≤–ª—è–µ—Ç 1 —Å–∏–ª—ã –≤ –±–æ—é",image:"üß™",type:"potion",buffs:{value:1,type:"str"},ingredients:[{id:"herb-green",name:"–ó–µ–ª–µ–Ω–∞—è —Ç—Ä–∞–≤–∞",icon:"üåø",count:4},{id:"beast-milk",name:"–ú–æ–ª–æ–∫–æ –∑–≤–µ—Ä—è",icon:"‚öóÔ∏è",count:5}],requirements:"–£—Ä–æ–≤–µ–Ω—å –∞–ª—Ö–∏–º–∏–∏ 2"}],inventory:e}},data:()=>({selectedRecipe:null,craftSlots:[]}),methods:{selectRecipe(e){this.selectedRecipe=e,this.craftSlots=[]},removeAllIngridient(){this.craftSlots.forEach(e=>{const t=this.inventory.find(s=>s.id===e.id);t&&(t.count+=e.count)}),this.craftSlots=[]},addIngredient(e){if(!this.selectedRecipe)return;if(!this.selectedRecipe.ingredients.some(o=>o.id===e.id)){alert("–≠—Ç–æ—Ç –ø—Ä–µ–¥–º–µ—Ç –Ω–µ –Ω—É–∂–µ–Ω –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ—Ü–µ–ø—Ç–∞!");return}const s=this.craftSlots.findIndex(o=>o.id===e.id),n=this.inventory.find(o=>o.id===e.id);if(!n||n.count<=0){alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ!");return}s>=0?this.craftSlots[s].count++:this.craftSlots.push({...e,count:1}),n&&n.count--},removeIngredient(e){const t=this.craftSlots[e];if(!t)return;const s=this.inventory.find(n=>n.id===t.id);s&&(s.count+=1),t.count>1?this.craftSlots[e].count--:this.craftSlots.splice(e,1)},craftItem(){if(!this.selectedRecipe)return;if(this.selectedRecipe.ingredients.every(t=>{const s=this.craftSlots.find(n=>n.id===t.id);return s&&s.count>=t.count})){this.selectedRecipe.ingredients.forEach(n=>{const o=this.craftSlots.findIndex(_=>_.id===n.id);o>=0&&(this.craftSlots[o].count-=n.count,this.craftSlots[o].count<=0&&this.craftSlots.splice(o,1))});const t={id:this.selectedRecipe.id,name:this.selectedRecipe.name,icon:this.selectedRecipe.image,count:1,type:this.selectedRecipe.type,description:this.selectedRecipe.description,buffs:this.selectedRecipe.buffs||{value:0,type:""}},s=this.inventory.find(n=>n.id===t.id);s?s.count+=t.count:this.inventory.push(t)}else alert("–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤!")}},computed:{canCraft(){return this.selectedRecipe?this.selectedRecipe.ingredients.every(e=>{const t=this.craftSlots.find(s=>s.id===e.id);return t&&t.count>=e.count}):!1}}}),G={class:"craft"},J={class:"craft__bug"},K={class:"craft__wrap"},M={class:"craft__title"},O={class:"craft__image"},Q={class:"craft__system"},U=["onClick"],W={key:0,class:"craft__slot-content"},X={class:"craft__count"},Y={key:1,class:"craft__empty-slot"},Z={class:"craft__buttons"},x=["disabled"];function ee(e,t,s,n,o,_){var l,p;const d=T,f=k;return r(),a("div",G,[i("div",J,[i("div",K,[i("h4",M,c(((l=e.selectedRecipe)==null?void 0:l.name)||"–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ—Ü–µ–ø—Ç"),1),i("div",O,c(((p=e.selectedRecipe)==null?void 0:p.image)||"‚ùì"),1)]),i("div",Q,[(r(!0),a(h,null,v(e.craftSlots,(u,m)=>(r(),a("div",{key:m,class:"craft__item",onClick:te=>u?e.removeIngredient(m):null},[u?(r(),a("div",W,[I(c(u.icon)+" ",1),i("span",X,c(u.count),1)])):(r(),a("div",Y,"–°–ª–æ—Ç "+c(m+1),1))],8,U))),128))]),i("div",Z,[i("button",{class:"craft__button button button--metal-sm",type:"button",disabled:!e.canCraft,onClick:t[0]||(t[0]=(...u)=>e.craftItem&&e.craftItem(...u))},"–°–æ–∑–¥–∞—Ç—å ",8,x),i("button",{class:"craft__button button button--metal-sm",type:"button",onClick:t[1]||(t[1]=(...u)=>e.removeAllIngridient&&e.removeAllIngridient(...u))},"–°–±—Ä–æ—Å–∏—Ç—å ")])]),b(d,{recipes:e.recipes,onSelectRecipe:e.selectRecipe,class:"craft__recipes"},null,8,["recipes","onSelectRecipe"]),b(f,{inventory:e.inventory,location:"craft",onItemClick:e.addIngredient,class:"craft__inventory"},null,8,["inventory","onItemClick"])])}const pe=g(j,[["render",ee],["__scopeId","data-v-1b3bcd59"]]);export{pe as default};
